<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="com.deepexi.channel.mapper.DistributorGradeSystemMapper">

    <select id="findPage" parameterType="com.deepexi.channel.domain.distributor.DistributorGradeSystemQuery"
            resultType="com.deepexi.channel.domain.distributor.DistributorGradeSystemDO">

        SELECT * FROM cc_distributor_grade_system WHERE dr=0

            <if test="id != null">
                and id = #{id}
            </if>

            <if test="ids != null">
                and id in
                <foreach collection="ids" item="tempId" index="index" open="(" close=")" separator=",">
                    #{tempId}
                </foreach>
            </if>

            <if test="gradeSystemName!=null">
                AND grade_system_name LIKE concat('%',#{gradeSystemName},'%')
            </if>
            <if test="gradeSystemCode!=null">
                AND grade_system_code LIKE concat('%',#{gradeSystemCode},'%')
            </if>
            <if test="startTime != null">
                and created_time &gt;= #{startTime}
            </if>
            <if test="endTime != null">
                and created_time &lt;= #{endTime}
            </if>
            <if test="updateStartTime != null">
                and updated_time &gt;= #{updateStartTime}
            </if>
            <if test="updateEndTime != null">
                and updated_time &lt;= #{updateEndTime}
            </if>
            order by updated_time desc
    </select>

</mapper>